#!/usr/bin/env bash

# Stop if any command fails.
set -e

# Stop on unset variables.
set -u

# Run our app.
name=$(head -n 1  < "$1" | sed -E 's/^module +([^ ]+).*$/\1/')
style=$(echo "$name" | sed -E 's/\.[^.]+$/.Style/')
{
echo "module $name exposing (..)"
tail -n +2 < "$(npm root -g)/pravdomil-ui/dist/Base.elm" | sed "s/import Ui.Style as A/import $style as A/"
} > "$1"
